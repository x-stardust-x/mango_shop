(function(){"use strict";var t={1689:function(t,n,e){var a=e(5130),l=e(6768);const o={id:"app",class:"d-flex flex-column min-vh-100"},r={class:"container-fluid m-auto p-3 flex-grow-1"};function s(t,n,e,s,c,u){const i=(0,l.g2)("Navbar"),d=(0,l.g2)("Header"),m=(0,l.g2)("router-view"),p=(0,l.g2)("Footer");return(0,l.uX)(),(0,l.CE)("div",o,[(0,l.bF)(i),(0,l.bF)(d),(0,l.Lk)("div",r,[(0,l.bF)(m)]),(0,l.bF)(p),(0,l.bF)(a.eB,{name:"fade"},{default:(0,l.k6)(()=>[(0,l.bo)((0,l.Lk)("button",{onClick:n[0]||(n[0]=(...n)=>t.scrollToTop&&t.scrollToTop(...n)),class:"btn btn-warning scroll-top-btn fs-1"},n[1]||(n[1]=[(0,l.Lk)("i",{class:"bi bi-arrow-up-circle"},null,-1)]),512),[[a.aG,t.showButton]])]),_:1})])}var c=e(144),u=e(4232);const i={class:"navbar navbar-expand-lg navbar-light bg-light fs-4"},d={class:"container"},m={class:"collapse navbar-collapse",id:"navbarSupportedContent"},p={class:"navbar-nav ms-auto"};function b(t,n,e,a,o,r){const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("nav",i,[(0,l.Lk)("div",d,[(0,l.bF)(s,{class:"navbar-brand fs-4",to:"/"},{default:(0,l.k6)(()=>n[0]||(n[0]=[(0,l.eW)("芒果商店",-1)])),_:1,__:[0]}),n[1]||(n[1]=(0,l.Lk)("button",{class:"navbar-toggler",type:"button","data-bs-toggle":"collapse","data-bs-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation"},[(0,l.Lk)("span",{class:"navbar-toggler-icon"})],-1)),(0,l.Lk)("div",m,[(0,l.Lk)("ul",p,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.navs,(n,e)=>((0,l.uX)(),(0,l.CE)("li",{class:"nav-item",key:e},[(0,l.bF)(s,{class:(0,u.C4)(["nav-link",{active:n.path===t.$route.path}]),to:n.path},{default:(0,l.k6)(()=>[(0,l.Lk)("i",{class:(0,u.C4)(["bi",n.icon])},null,2),(0,l.eW)(" "+(0,u.v_)(n.name),1)]),_:2},1032,["class","to"])]))),128))])])])])}var v=(0,l.pM)({setup(){const t=[{name:"首頁",path:"/",icon:"bi-house-fill"},{name:"關於我們",path:"/about",icon:"bi-people-fill"},{name:"商品",path:"/products",icon:"bi-bag-fill"},{name:"購物車",path:"/cart",icon:"bi-cart-fill"},{name:"會員",path:"/member",icon:"bi-person-circle"}];return{navs:t}}}),k=e(1241);const g=(0,k.A)(v,[["render",b],["__scopeId","data-v-e1d4d0f8"]]);var L=g;const h={class:"text-center pb-3"},f=["src"];function y(t,n,e,a,o,r){return(0,l.uX)(),(0,l.CE)(l.FK,null,[n[0]||(n[0]=(0,l.Lk)("header",{class:"bg-warning text-white py-3 text-center"},[(0,l.Lk)("h1",{class:"text-black"},"歡迎來到芒果商店！")],-1)),(0,l.Lk)("div",h,[(0,l.Lk)("img",{src:o.mangoBar,class:"img-fluid rounded w-100",alt:"mango banner"},null,8,f)])],64)}var C={data(){return{mangoBar:e(3529)}}};const _=(0,k.A)(C,[["render",y]]);var E=_;const w={class:"bg-dark text-white text-center pt-3"};function x(t,n,e,a,o,r){return(0,l.uX)(),(0,l.CE)("footer",w,n[0]||(n[0]=[(0,l.Lk)("p",null,"© 2025 芒果商店 - 保留所有權利",-1)]))}var X={};const A=(0,k.A)(X,[["render",x]]);var R=A,T=(0,l.pM)({setup(){const t=(0,c.KR)(window.scrollY>0),n=()=>{t.value=window.scrollY>0},e=()=>{window.scrollTo({top:0,behavior:"smooth"})};return(0,l.sV)(()=>{window.addEventListener("scroll",n)}),(0,l.hi)(()=>{window.removeEventListener("scroll",n)}),{showButton:t,scrollToTop:e}},components:{Navbar:L,Header:E,Footer:R}});const K=(0,k.A)(T,[["render",s],["__scopeId","data-v-9a327be0"]]);var F=K,q=e(1387);const V={class:"container mx-auto my-2"},I={class:"row"},M={class:"card mb-3 h-100"},O=["src","alt"],j={class:"card-body"},S={class:"card-title"},$={class:"card-text"};function U(t,n,e,a,o,r){const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",V,[n[2]||(n[2]=(0,l.Lk)("div",{class:"text-center"},[(0,l.Lk)("h2",null,"關於我們"),(0,l.Lk)("p",null,"我們是專門銷售台灣頂級芒果的農場直送品牌。"),(0,l.Lk)("h2",{class:"mt-4"},"熱門商品")],-1)),(0,l.Lk)("div",I,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.products,(t,e)=>((0,l.uX)(),(0,l.CE)("div",{class:"col-md-4",key:e},[(0,l.Lk)("div",M,[(0,l.Lk)("img",{src:t.img,class:"card-img-top object-fit-cover",alt:t.name,style:{height:"300px"}},null,8,O),(0,l.Lk)("div",j,[(0,l.Lk)("h5",S,[(0,l.eW)((0,u.v_)(t.name),1),n[0]||(n[0]=(0,l.Lk)("i",{class:"bi bi-question-circle px-1"},null,-1))]),(0,l.Lk)("p",$,"從 "+(0,u.v_)(t.price)+" 元起",1),(0,l.bF)(s,{to:"/products"},{default:(0,l.k6)(()=>n[1]||(n[1]=[(0,l.Lk)("button",{class:"btn btn-info w-100"}," 點擊前往購買 ",-1)])),_:1,__:[1]})])])]))),128))])])}var W=(0,l.pM)({setup(){const t=[{name:"愛文芒果",img:e(6381),price:600},{name:"金黃芒果",img:e(3972),price:700},{name:"凱特芒果",img:e(3635),price:800}];return{products:t}}});const B=(0,k.A)(W,[["render",U]]);var J=B;const P={class:"container py-5"};function D(t,n,e,a,o,r){return(0,l.uX)(),(0,l.CE)("div",P,n[0]||(n[0]=[(0,l.Fv)('<h1 class="mb-4">使用ChatGPT製作文章</h1><h2 class="mb-4">關於我們</h2><p> 在台灣南部的陽光土地上，我們用心栽培每一顆芒果。 從土壤的養護、花季的細心照料，到果實的成熟採收， 每一個環節都傾注了我們對土地與作物的熱愛。 </p><p> 我們相信，好的水果來自自然與人的共同努力。 因此，我們堅持使用友善環境的方式種植， 不用過量農藥、不急於催熟，讓芒果依照季節自然成長。 </p><p> 我們的芒果不只是一種水果， 更代表著「夏天的甜美回憶」—— 咬下去的那一瞬間，濃郁的果香、滑順的口感， 是土地給予的最真實禮物。 </p><p> 選擇我們的芒果， 不只是購買一份水果， 更是支持一群在地農民， 讓台灣的好滋味能延續下去。 </p><h3 class="mt-5">核心理念</h3><ul><li><strong>品質第一</strong>：嚴格篩選，確保每顆芒果香甜多汁。</li><li><strong>在地精神</strong>：支持小農，傳遞土地的真實風味。</li><li><strong>永續友善</strong>：珍惜自然，與環境共生共榮。</li></ul>',8)]))}var Q={name:"About"};const H=(0,k.A)(Q,[["render",D]]);var G=H;const N={class:"container mx-auto my-2"},Y={class:"row"},z={class:"card h-100"},Z=["src","alt"],tt={class:"card-body d-flex flex-column"},nt={class:"card-title"},et=["onUpdate:modelValue"],at=["value"],lt={class:"input-group mb-3"},ot=["onUpdate:modelValue"],rt={class:"mb-2"},st=["disabled","onClick"];function ct(t,n,e,o,r,s){return(0,l.uX)(),(0,l.CE)("div",N,[n[3]||(n[3]=(0,l.Lk)("h2",{class:"mb-4 text-center"},"選購芒果",-1)),(0,l.Lk)("div",Y,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.products,(e,o)=>((0,l.uX)(),(0,l.CE)("div",{class:"col-md-4 mb-4",key:o},[(0,l.Lk)("div",z,[(0,l.Lk)("img",{src:e.img,class:"card-img-top object-fit-cover",alt:e.name,style:{height:"300px"}},null,8,Z),(0,l.Lk)("div",tt,[(0,l.Lk)("h5",nt,(0,u.v_)(e.name),1),n[1]||(n[1]=(0,l.Lk)("label",{class:"form-label"},"選擇顆數",-1)),(0,l.bo)((0,l.Lk)("select",{class:"form-select mb-2","onUpdate:modelValue":n=>t.selectedVariants[o].count=n},[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(e.variants,t=>((0,l.uX)(),(0,l.CE)("option",{key:t.count,value:t.count},(0,u.v_)(t.count)+" 顆 - "+(0,u.v_)(t.price)+" 元 ",9,at))),128))],8,et),[[a.u1,t.selectedVariants[o].count]]),n[2]||(n[2]=(0,l.Lk)("label",{class:"form-label"},"數量(最多4箱)?",-1)),(0,l.Lk)("div",lt,[(0,l.bo)((0,l.Lk)("input",{type:"number",class:"form-control",min:"0",max:"4","onUpdate:modelValue":n=>t.selectedVariants[o].quantity=n},null,8,ot),[[a.Jo,t.selectedVariants[o].quantity,void 0,{number:!0}]]),n[0]||(n[0]=(0,l.Lk)("span",{class:"input-group-text"},"箱",-1))]),(0,l.Lk)("div",rt,[(0,l.Lk)("strong",null,"總價："+(0,u.v_)(t.Sum[o]),1)]),(0,l.Lk)("div",{style:(0,u.Tr)({cursor:0==t.selectedVariants[o].quantity?"not-allowed":"pointer"})},[(0,l.Lk)("button",{class:"btn btn-success w-100",disabled:0==t.selectedVariants[o].quantity,onClick:n=>t.addToCart(o)}," 加入購物車 ",8,st)],4)])])]))),128))])])}e(8111),e(116),e(1701);var ut=e(782),it=(0,l.pM)({setup(){const t=(0,c.KR)([{name:"愛文芒果",img:e(6381),variants:[{count:12,price:1200},{count:15,price:1050},{count:18,price:900},{count:20,price:750},{count:24,price:600}]},{name:"金黃芒果",img:e(3972),variants:[{count:12,price:1100},{count:15,price:1e3},{count:18,price:900},{count:20,price:800},{count:24,price:700}]},{name:"凱特芒果",img:e(3635),variants:[{count:12,price:1e3},{count:15,price:950},{count:18,price:900},{count:20,price:850},{count:24,price:800}]}]),n=(0,c.KR)(t.value.map(t=>({count:t.variants[0].count,quantity:0}))),a=(0,l.EW)(()=>t.value.map((t,e)=>{const a=n.value[e],l=t.variants.find(t=>t.count===a.count);return l&&a.quantity>0?l.price*a.quantity:0})),o=(0,ut.Pj)(),r=e=>{const a=t.value[e],l=n.value[e],r=a.variants.find(t=>t.count===l.count);if(r&&l.quantity>0){const t={name:a.name,count:r.count,price:r.price,quantity:l.quantity};o.dispatch("addToCart",t),alert(`已加入購物車：${t.name} ${t.count}顆 × ${t.quantity}`),l.quantity=0}};return{products:t,selectedVariants:n,Sum:a,addToCart:r}}});const dt=(0,k.A)(it,[["render",ct]]);var mt=dt;const pt={class:"container mx-auto my-2"},bt={key:0,class:"alert alert-info"},vt={key:1},kt={class:"table table-bordered align-middle"},gt=["onClick"],Lt={colspan:"2"},ht={class:"mb-3"},ft={class:"mb-3"},yt={class:"mb-3"},Ct={class:"text-end"},_t=["disabled"];function Et(t,n,e,o,r,s){return(0,l.uX)(),(0,l.CE)("div",pt,[n[9]||(n[9]=(0,l.Lk)("h2",{class:"mb-4 text-center"},"購物車",-1)),0===t.cartItems.length?((0,l.uX)(),(0,l.CE)("h4",bt," 購物車是空的。 ")):((0,l.uX)(),(0,l.CE)("div",vt,[(0,l.Lk)("table",kt,[n[5]||(n[5]=(0,l.Lk)("thead",{class:"table-light"},[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"品種"),(0,l.Lk)("th",null,"顆數"),(0,l.Lk)("th",null,"單價"),(0,l.Lk)("th",null,"數量"),(0,l.Lk)("th",null,"小計"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.cartItems,(n,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:e},[(0,l.Lk)("td",null,(0,u.v_)(n.name),1),(0,l.Lk)("td",null,(0,u.v_)(n.count),1),(0,l.Lk)("td",null,(0,u.v_)(n.price)+" 元",1),(0,l.Lk)("td",null,(0,u.v_)(n.quantity),1),(0,l.Lk)("td",null,(0,u.v_)(n.price*n.quantity)+" 元",1),(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-danger",onClick:n=>t.removeItem(e)},"刪除",8,gt)])]))),128))]),(0,l.Lk)("tfoot",null,[(0,l.Lk)("tr",null,[n[4]||(n[4]=(0,l.Lk)("th",{colspan:"4",class:"text-end"},"總計：",-1)),(0,l.Lk)("th",Lt,(0,u.v_)(t.cartTotal)+" 元",1)])])]),(0,l.Lk)("div",ht,[n[6]||(n[6]=(0,l.Lk)("label",{for:"name",class:"form-label"},"姓名",-1)),(0,l.bo)((0,l.Lk)("input",{id:"name",type:"text",class:"form-control","onUpdate:modelValue":n[0]||(n[0]=n=>t.name=n),placeholder:"請輸入姓名"},null,512),[[a.Jo,t.name]])]),(0,l.Lk)("div",ft,[n[7]||(n[7]=(0,l.Lk)("label",{for:"phone",class:"form-label"},"電話",-1)),(0,l.bo)((0,l.Lk)("input",{id:"phone",type:"tel",class:"form-control","onUpdate:modelValue":n[1]||(n[1]=n=>t.phone=n),placeholder:"請輸入電話"},null,512),[[a.Jo,t.phone]])]),(0,l.Lk)("div",yt,[n[8]||(n[8]=(0,l.Lk)("label",{for:"address",class:"form-label"},"地址",-1)),(0,l.bo)((0,l.Lk)("input",{id:"address",type:"text",class:"form-control","onUpdate:modelValue":n[2]||(n[2]=n=>t.address=n),placeholder:"請輸入地址"},null,512),[[a.Jo,t.address]])]),(0,l.Lk)("div",Ct,[(0,l.Lk)("button",{class:"btn btn-primary",disabled:!t.canCheckout,onClick:n[3]||(n[3]=(...n)=>t.checkout&&t.checkout(...n))}," 結帳 ",8,_t)])]))])}var wt=e(4373);const xt="https://mango-api-41pe.onrender.com/api/",Xt=wt.A.create({baseURL:xt});Xt.interceptors.request.use(t=>{const n=localStorage.getItem("token");return n&&(t.headers.Authorization=`Bearer ${n}`),t});var At=Xt,Rt=(0,l.pM)({setup(){const t=(0,ut.Pj)(),n=(0,l.EW)(()=>t.getters.cartItems),e=(0,l.EW)(()=>t.getters.cartTotal),a=(0,c.KR)(""),o=(0,c.KR)(""),r=(0,c.KR)(""),s=(0,l.EW)(()=>n.value.length>0&&""!==a.value.trim()&&""!==o.value.trim()&&""!==r.value.trim()),u=n=>{t.commit("REMOVE_ITEM",n)},i=async()=>{try{const l={name:a.value,phone:o.value,address:r.value,items:n.value,total:e.value},s=await At.post("admin/checkout",l);alert(s.data.message||"結帳成功"),t.commit("CLEAR_CART"),a.value="",o.value="",r.value=""}catch(l){alert("結帳失敗，請稍後再試"),console.error(l)}};return{cartItems:n,cartTotal:e,name:a,phone:o,address:r,canCheckout:s,removeItem:u,checkout:i}}});const Tt=(0,k.A)(Rt,[["render",Et]]);var Kt=Tt;e(4114);const Ft={class:"container mx-auto my-2"},qt={key:0,class:"my-4"},Vt={key:1},It={class:"fs-4 my-3"},Mt={key:0},Ot={key:1},jt={key:0,class:"btn btn-info"},St={key:0,class:"btn btn-warning ms-2"};var $t=(0,l.pM)({__name:"Member",setup(t){const n=(0,c.KR)(""),e=(0,c.KR)(!1),a=(0,q.rd)();(0,l.sV)(async()=>{try{const t=await At.get("admin/member");n.value=t.data.username,e.value=t.data.admin}catch(t){console.error("取得使用者失敗",t),403===t.status&&o()}});const o=()=>{localStorage.removeItem("token"),a.push("admin/login")};return(t,a)=>{const r=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Ft,[a[1]||(a[1]=(0,l.Lk)("h2",{class:"my-4"},"會員資料",-1)),n.value?((0,l.uX)(),(0,l.CE)("h3",qt,"名子:"+(0,u.v_)(n.value),1)):((0,l.uX)(),(0,l.CE)("h3",Vt,"載入中...")),(0,l.Lk)("div",It,[a[0]||(a[0]=(0,l.eW)("會員: ",-1)),e.value?((0,l.uX)(),(0,l.CE)("span",Mt,"管理者")):((0,l.uX)(),(0,l.CE)("span",Ot,"一般會員"))]),(0,l.bF)(r,{to:"/admin/orders"},{default:(0,l.k6)(()=>[e.value?((0,l.uX)(),(0,l.CE)("button",jt,"芒果帳單")):(0,l.Q3)("",!0)]),_:1}),(0,l.bF)(r,{to:"/admin/accounts"},{default:(0,l.k6)(()=>[e.value?((0,l.uX)(),(0,l.CE)("button",St,"帳號管理")):(0,l.Q3)("",!0)]),_:1}),(0,l.Lk)("button",{class:"btn btn-danger ms-2",onClick:o},"登出")])}}});const Ut=$t;var Wt=Ut;const Bt={class:"container mx-auto my-2"},Jt={class:"mb-3"},Pt={class:"mb-3"};var Dt=(0,l.pM)({__name:"Login",setup(t){const n=(0,c.KR)(""),e=(0,c.KR)(""),o=(0,q.rd)(),r=async()=>{try{await At.post("admin/login",{username:n.value,password:e.value}).then(t=>{const n=t.data.token;localStorage.setItem("token",n),alert("登入成功"),o.push("/")})}catch(t){alert("登入錯誤")}};return(t,o)=>{const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Bt,[o[6]||(o[6]=(0,l.Lk)("h2",{class:"mb-4"},"會員登入",-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(r,["prevent"])},[(0,l.Lk)("div",Jt,[o[2]||(o[2]=(0,l.Lk)("label",{class:"form-label"},"使用者名稱",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>n.value=t),required:""},null,512),[[a.Jo,n.value]])]),(0,l.Lk)("div",Pt,[o[3]||(o[3]=(0,l.Lk)("label",{class:"form-label"},"密碼",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>e.value=t),required:""},null,512),[[a.Jo,e.value]])]),o[5]||(o[5]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"登入",-1)),(0,l.bF)(s,{class:"btn btn-success ms-2",to:"/admin/register"},{default:(0,l.k6)(()=>o[4]||(o[4]=[(0,l.eW)("註冊",-1)])),_:1,__:[4]})],32)])}}});const Qt=Dt;var Ht=Qt;const Gt={class:"container mx-auto my-2"},Nt={class:"mb-3"},Yt={class:"mb-3"};var zt=(0,l.pM)({__name:"Register",setup(t){const n=(0,c.KR)(""),e=(0,c.KR)(""),o=((0,c.KR)(!1),(0,q.rd)()),r=async()=>{try{const t=await At.post("admin/register",{username:n.value,password:e.value,admin:!1});alert(t.data.message),o.push("/admin/login")}catch(t){alert("註冊失敗！")}};return(t,o)=>{const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",Gt,[o[6]||(o[6]=(0,l.Lk)("h2",{class:"mb-4"},"加入會員",-1)),(0,l.Lk)("form",{onSubmit:(0,a.D$)(r,["prevent"])},[(0,l.Lk)("div",Nt,[o[2]||(o[2]=(0,l.Lk)("label",{class:"form-label"},"使用者名稱(勿輸入個資當作帳號)",-1)),(0,l.bo)((0,l.Lk)("input",{type:"text",class:"form-control","onUpdate:modelValue":o[0]||(o[0]=t=>n.value=t),required:""},null,512),[[a.Jo,n.value]])]),(0,l.Lk)("div",Yt,[o[3]||(o[3]=(0,l.Lk)("label",{class:"form-label"},"密碼",-1)),(0,l.bo)((0,l.Lk)("input",{type:"password",class:"form-control","onUpdate:modelValue":o[1]||(o[1]=t=>e.value=t),required:""},null,512),[[a.Jo,e.value]])]),(0,l.Lk)("div",null,[o[5]||(o[5]=(0,l.Lk)("button",{type:"submit",class:"btn btn-primary"},"註冊",-1)),(0,l.bF)(s,{class:"btn btn-warning ms-2",to:"/admin/login"},{default:(0,l.k6)(()=>o[4]||(o[4]=[(0,l.eW)("返回",-1)])),_:1,__:[4]})])],32)])}}});const Zt=zt;var tn=Zt;const nn={class:"container mt-5"},en={key:0,class:"alert alert-danger"},an={key:1,class:"text-center"},ln={key:2,class:"table table-striped"},on={class:"mb-0"},rn=["onClick"],sn=["onClick"],cn=["onClick"];function un(t,n,e,a,o,r){const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",nn,[n[3]||(n[3]=(0,l.Lk)("h2",{class:"mb-4"},"訂單管理",-1)),t.error?((0,l.uX)(),(0,l.CE)("div",en,(0,u.v_)(t.error),1)):(0,l.Q3)("",!0),t.loading?((0,l.uX)(),(0,l.CE)("div",an,n[0]||(n[0]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},null,-1)]))):((0,l.uX)(),(0,l.CE)("table",ln,[n[1]||(n[1]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"#"),(0,l.Lk)("th",null,"姓名"),(0,l.Lk)("th",null,"電話"),(0,l.Lk)("th",null,"地址"),(0,l.Lk)("th",null,"項目"),(0,l.Lk)("th",null,"總金額"),(0,l.Lk)("th",null,"狀態"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.orders,(n,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:n.id},[(0,l.Lk)("td",null,(0,u.v_)(e+1),1),(0,l.Lk)("td",null,(0,u.v_)(n.name),1),(0,l.Lk)("td",null,(0,u.v_)(n.phone),1),(0,l.Lk)("td",null,(0,u.v_)(n.address),1),(0,l.Lk)("td",null,[(0,l.Lk)("ul",on,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(n.items,(t,n)=>((0,l.uX)(),(0,l.CE)("li",{key:n},(0,u.v_)(t.name)+" - "+(0,u.v_)(t.count)+"粒 × "+(0,u.v_)(t.quantity),1))),128))])]),(0,l.Lk)("td",null,"$"+(0,u.v_)(n.total),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,u.C4)(["badge",n.status?"bg-success":"bg-warning text-dark"])},(0,u.v_)(n.status?"完成":"處理中"),3)]),(0,l.Lk)("td",null,[n.status?((0,l.uX)(),(0,l.CE)("button",{key:1,class:"btn btn-sm btn-warning me-2",onClick:e=>t.uncomplete(n.id)}," 取消完成 ",8,sn)):((0,l.uX)(),(0,l.CE)("button",{key:0,class:"btn btn-sm btn-success me-2",onClick:e=>t.complete(n.id)}," 完成 ",8,rn)),(0,l.Lk)("button",{class:"btn btn-sm btn-danger",onClick:e=>t.remove(n.id)}," 刪除 ",8,cn)])]))),128))])])),(0,l.bF)(s,{to:"/member"},{default:(0,l.k6)(()=>n[2]||(n[2]=[(0,l.Lk)("button",{class:"btn btn-warning"},"返回",-1)])),_:1,__:[2]})])}var dn=(0,l.pM)({name:"AdminOrders",setup(){const t=(0,c.KR)([]),n=(0,c.KR)(!0),e=(0,c.KR)(""),a=async()=>{try{const n=await At.get("/admin/orders");t.value=n.data}catch(a){e.value="載入訂單失敗"}finally{n.value=!1}},o=async t=>{if(confirm("確定完成訂單？"))try{await At.put(`/admin/orders/${t}/complete`),a()}catch(n){e.value="更新失敗"}},r=async t=>{if(confirm("改回未完成?"))try{await At.put(`/admin/orders/${t}/uncomplete`),a()}catch(n){e.value="更新失敗"}},s=async t=>{if(confirm("確定刪除訂單？"))try{await At.delete(`/admin/orders/${t}`),a()}catch(n){e.value="刪除失敗"}};return(0,l.sV)(a),{orders:t,loading:n,error:e,complete:o,uncomplete:r,remove:s}}});const mn=(0,k.A)(dn,[["render",un]]);var pn=mn;const bn={class:"container mt-5"},vn={key:0,class:"alert alert-danger"},kn={key:1,class:"text-center"},gn={key:2,class:"table table-hover"},Ln=["onClick"],hn=["onClick"];function fn(t,n,e,a,o,r){const s=(0,l.g2)("router-link");return(0,l.uX)(),(0,l.CE)("div",bn,[n[3]||(n[3]=(0,l.Lk)("h2",{class:"mb-4"},"帳號管理",-1)),t.error?((0,l.uX)(),(0,l.CE)("div",vn,(0,u.v_)(t.error),1)):(0,l.Q3)("",!0),t.loading?((0,l.uX)(),(0,l.CE)("div",kn,n[0]||(n[0]=[(0,l.Lk)("div",{class:"spinner-border text-primary",role:"status"},null,-1)]))):((0,l.uX)(),(0,l.CE)("table",gn,[n[1]||(n[1]=(0,l.Lk)("thead",null,[(0,l.Lk)("tr",null,[(0,l.Lk)("th",null,"#"),(0,l.Lk)("th",null,"名稱"),(0,l.Lk)("th",null,"管理員"),(0,l.Lk)("th",null,"操作")])],-1)),(0,l.Lk)("tbody",null,[((0,l.uX)(!0),(0,l.CE)(l.FK,null,(0,l.pI)(t.users,(n,e)=>((0,l.uX)(),(0,l.CE)("tr",{key:n.id},[(0,l.Lk)("td",null,(0,u.v_)(e+1),1),(0,l.Lk)("td",null,(0,u.v_)(n.username),1),(0,l.Lk)("td",null,[(0,l.Lk)("span",{class:(0,u.C4)(["badge",n.admin?"bg-success":"bg-secondary"])},(0,u.v_)(n.admin?"是":"否"),3)]),(0,l.Lk)("td",null,[(0,l.Lk)("button",{class:"btn btn-sm btn-warning me-2",onClick:e=>t.toggleAdmin(n.id,!n.admin)},(0,u.v_)(n.admin?"取消管理員":"設為管理員"),9,Ln),(0,l.Lk)("button",{class:"btn btn-sm btn-danger",onClick:e=>t.remove(n.id)}," 刪除 ",8,hn)])]))),128))])])),(0,l.bF)(s,{to:"/member"},{default:(0,l.k6)(()=>n[2]||(n[2]=[(0,l.Lk)("button",{class:"btn btn-warning"},"返回",-1)])),_:1,__:[2]})])}var yn=(0,l.pM)({name:"AdminAccounts",setup(){const t=(0,c.KR)([]),n=(0,c.KR)(!0),e=(0,c.KR)(""),a=async()=>{try{const n=await At.get("/admin/accounts");t.value=n.data}catch(a){e.value="載入帳號失敗"}finally{n.value=!1}},o=async(t,n)=>{try{await At.put(`/admin/accounts/${t}`,{admin:n}),a()}catch(l){e.value="更新權限失敗"}},r=async t=>{if(confirm("確定刪除帳號？"))try{await At.delete(`/admin/accounts/${t}`),a()}catch(n){e.value="刪除失敗"}};return(0,l.sV)(a),{users:t,loading:n,error:e,toggleAdmin:o,remove:r}}});const Cn=(0,k.A)(yn,[["render",fn]]);var _n=Cn;const En=[{path:"/",name:"Home",component:J},{path:"/about",name:"About",component:G},{path:"/products",name:"Products",component:mt},{path:"/cart",name:"Cart",component:Kt},{path:"/member",name:"Member",component:Wt,meta:{requiresAuth:!0}},{path:"/admin/login",name:"Login",component:Ht},{path:"/admin/register",name:"Register",component:tn},{path:"/admin/orders",name:"Orders",component:pn},{path:"/admin/accounts",name:"Accounts",component:_n}],wn=(0,q.aE)({history:(0,q.Bt)("/mango_shop/"),routes:En});wn.beforeEach((t,n,e)=>{const a=!!localStorage.getItem("token");t.meta.requiresAuth&&!a?e("admin/login"):e()});var xn=wn,Xn=(e(8237),(0,ut.y$)({state:{cart:[]},mutations:{ADD_TO_CART(t,n){const e=t.cart.find(t=>t.name===n.name&&t.count===n.count);e?e.quantity+=n.quantity:t.cart.push({...n});const a=[12,15,18,20,24];t.cart.sort((t,n)=>t.name<n.name?-1:t.name>n.name?1:a.indexOf(t.count)-a.indexOf(n.count))},REMOVE_ITEM(t,n){t.cart.splice(n,1)},CLEAR_CART(t){t.cart=[]}},actions:{addToCart({commit:t},n){t("ADD_TO_CART",n)}},getters:{cartItems:t=>t.cart,cartTotal:t=>t.cart.reduce((t,n)=>t+n.price*n.quantity,0)},modules:{}}));e(8077);(0,a.Ef)(F).use(Xn).use(xn).mount("#app")},3529:function(t,n,e){t.exports=e.p+"img/mangoBar.d86ada92.jpg"},3635:function(t,n,e){t.exports=e.p+"img/CMango.d95b7015.jpg"},3972:function(t,n,e){t.exports=e.p+"img/BMango.d3ece946.jpg"},6381:function(t,n,e){t.exports=e.p+"img/AMango.36eda3cc.jpg"}},n={};function e(a){var l=n[a];if(void 0!==l)return l.exports;var o=n[a]={exports:{}};return t[a].call(o.exports,o,o.exports,e),o.exports}e.m=t,function(){var t=[];e.O=function(n,a,l,o){if(!a){var r=1/0;for(i=0;i<t.length;i++){a=t[i][0],l=t[i][1],o=t[i][2];for(var s=!0,c=0;c<a.length;c++)(!1&o||r>=o)&&Object.keys(e.O).every(function(t){return e.O[t](a[c])})?a.splice(c--,1):(s=!1,o<r&&(r=o));if(s){t.splice(i--,1);var u=l();void 0!==u&&(n=u)}}return n}o=o||0;for(var i=t.length;i>0&&t[i-1][2]>o;i--)t[i]=t[i-1];t[i]=[a,l,o]}}(),function(){e.n=function(t){var n=t&&t.__esModule?function(){return t["default"]}:function(){return t};return e.d(n,{a:n}),n}}(),function(){e.d=function(t,n){for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})}}(),function(){e.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)}}(),function(){e.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){e.p="/mango_shop/"}(),function(){var t={524:0};e.O.j=function(n){return 0===t[n]};var n=function(n,a){var l,o,r=a[0],s=a[1],c=a[2],u=0;if(r.some(function(n){return 0!==t[n]})){for(l in s)e.o(s,l)&&(e.m[l]=s[l]);if(c)var i=c(e)}for(n&&n(a);u<r.length;u++)o=r[u],e.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return e.O(i)},a=self["webpackChunkmango_shop"]=self["webpackChunkmango_shop"]||[];a.forEach(n.bind(null,0)),a.push=n.bind(null,a.push.bind(a))}();var a=e.O(void 0,[504],function(){return e(1689)});a=e.O(a)})();
//# sourceMappingURL=app.309c2284.js.map